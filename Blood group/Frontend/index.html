<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Predict: Blood Type Prediction</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* General Styling */
        :root{
            --accent: #D32F2F;
            --accent-dark: #C62828;
            --bg: #f5f7fa;
            --card: #ffffff;
            --text-dark: #222;
            --text-muted: #555;
        }

        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Poppins', 'Roboto', sans-serif;
            color: var(--text-dark);
            min-height: 100vh;
            margin: 0;
            /* Enhanced fingerprint + blood cell background */
            background: 
                radial-gradient(circle at 30% 20%, rgba(255,0,0,0.08), transparent 40%),
                radial-gradient(circle at 70% 80%, rgba(0,0,0,0.05), transparent 60%),
                linear-gradient(180deg, #ffffff 0%, #fef5f5 30%, #fdeaea 70%, #ffffff 100%);
            background-size: cover;
            background-attachment: fixed;
            position: fixed;
            overflow: hidden;
            width: 100%;
            height: 100vh;
        }

        /* Fingerprint pattern overlay */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: 
                repeating-radial-gradient(circle at 20% 30%, transparent 0, transparent 2px, rgba(211,47,47,0.02) 2px, rgba(211,47,47,0.02) 4px),
                repeating-radial-gradient(circle at 80% 70%, transparent 0, transparent 2px, rgba(0,0,0,0.015) 2px, rgba(0,0,0,0.015) 4px);
            opacity: 0.6;
            pointer-events: none;
            z-index: 0;
        }

        /* Animated scanning lines effect */
        body::after {
            content: '';
            position: fixed;
            inset: 0;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent 0px,
                    transparent 49px,
                    rgba(211,47,47,0.03) 49px,
                    rgba(211,47,47,0.03) 50px
                );
            pointer-events: none;
            z-index: 0;
            animation: scanlines 20s linear infinite;
        }

        @keyframes scanlines {
            0% { transform: translateY(0); }
            100% { transform: translateY(50px); }
        }

        /* Canvas Background Styles */
        #bg-canvas{
            position:fixed;
            inset:0;
            width:100%;
            height:100%;
            z-index: 1;
            pointer-events:none;
            background: linear-gradient(180deg, rgba(255,250,250,0.95) 0%, rgba(254,240,240,0.9) 50%, rgba(255,250,250,0.95) 100%);
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .bg-overlay{
            position:fixed; 
            inset:0; 
            z-index:2;
            pointer-events:none;
            background: 
                radial-gradient(900px 500px at 10% 20%, rgba(211,47,47,0.06), transparent 40%),
                radial-gradient(900px 500px at 90% 80%, rgba(198,40,40,0.04), transparent 40%);
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* Navigation Bar */
        nav{
            width: 100%;
            position: sticky;
            top: 0;
            z-index: 1000;
            display:flex;
            align-items:center;
            justify-content: space-between;
            padding: 1rem 5%;
            backdrop-filter: blur(12px);
            background: rgba(255,255,255,0.9);
            box-shadow: 0 4px 20px rgba(211,47,47,0.08);
            border-bottom: 1px solid rgba(211,47,47,0.1);
        }

        .logo{
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            letter-spacing: -0.5px;
            text-shadow: 0 2px 4px rgba(211,47,47,0.1);
        }
        
        .nav-links{
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }
        
        .nav-links a, .nav-auth a {
            text-decoration: none;
            color: #444;
            font-weight: 600;
            padding: 0.2rem 0.25rem;
            position: relative;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .nav-links a:hover, .nav-auth a:hover {
            color: var(--accent);
        }
        
        .nav-links a::after{
            content:'';
            position:absolute;
            left: 0;
            bottom: -6px;
            height: 3px;
            width: 0;
            background: var(--accent);
            border-radius: 2px;
            transition: width .25s;
        }
        
        .nav-links a.active-link::after {
            width: 100%;
        }

        .nav-auth{ display:flex; gap: 0.8rem; align-items: center; }
        
        .nav-auth .login{
            font-weight: 600;
            padding: 0.5rem 1rem;
        }
        
        .nav-auth .signup{
            background: var(--accent);
            color: #fff;
            padding: 0.5rem 1.1rem;
            border-radius: 22px;
            border: 1px solid var(--accent);
            transition: all 0.2s;
        }
        
        .nav-auth .signup:hover {
            background: var(--accent-dark);
            color: #fff;
            box-shadow: 0 4px 15px rgba(211,47,47,0.3);
        }
        
        /* Main content area */
        main {
            width: 100%;
            padding: 2rem 5%;
            z-index: 10;
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            bottom: 60px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* Home Page Section */
        #page-home .hero-card {
            max-width: 900px;
            margin: 1rem auto;
            background: rgba(255,255,255,0.95);
            border-radius: 18px;
            padding: 3rem 3.5rem;
            box-shadow: 0 18px 50px rgba(211,47,47,0.12);
            text-align: left;
            border: 1px solid rgba(211,47,47,0.1);
            backdrop-filter: blur(10px);
        }
        
        #page-home h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1.2;
            margin: 0 0 1rem;
        }
        
        #page-home h1 span {
            color: var(--accent);
            background: linear-gradient(135deg, #D32F2F 0%, #C62828 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        #page-home p {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: .6rem;
            background: linear-gradient(135deg, #D32F2F 0%, #C62828 100%);
            color: #fff;
            padding: 0.9rem 1.6rem;
            border-radius: 28px;
            border: none;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 8px 26px rgba(211,47,47,0.25);
            transition: all 0.3s;
        }
        
        .cta-button:hover {
            background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%);
            transform: translateY(-3px);
            box-shadow: 0 12px 32px rgba(211,47,47,0.35);
        }
        
        .cta-button i {
            transition: transform .25s;
        }
        
        .cta-button:hover i {
            transform: translateX(4px);
        }

        /* ECG Line Container */
        .ecg-line-container {
            margin-top: 2rem; 
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40px;
        }
        
        .ecg-line {
            width: 80%; 
            max-width: 300px;
            height: 100%;
        }
        
        .ecg-line path {
            stroke: var(--accent);
            stroke-width: 2.5;
            fill: none;
            stroke-dasharray: 500; 
            stroke-dashoffset: 500;
            animation: draw-ecg 2.5s linear infinite;
            filter: drop-shadow(0 0 2px rgba(211,47,47,0.3));
        }

        @keyframes draw-ecg {
            0% { stroke-dashoffset: 500; }
            100% { stroke-dashoffset: 0; }
        }

        /* Predictor Page Section */
        #page-predict .main-container {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(211,47,47,0.15);
            padding: 30px 40px;
            width: 90%;
            max-width: 500px;
            margin: 1rem auto;
            text-align: center;
            overflow: hidden;
            border: 1px solid rgba(211,47,47,0.1);
            backdrop-filter: blur(10px);
        }

        #page-predict h1 {
            color: var(--accent);
            margin-bottom: 10px;
        }

        #page-predict p {
            color: #555;
            margin-bottom: 25px;
        }

        /* Upload Container */
        .upload-container {
            margin-bottom: 20px;
        }

        #upload-label {
            border: 3px dashed rgba(211,47,47,0.3);
            border-radius: 10px;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255,250,250,0.5);
        }

        #upload-label:hover {
            border-color: var(--accent);
            background-color: rgba(255,240,240,0.8);
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(211,47,47,0.1);
        }

        #upload-label .fa-fingerprint {
            font-size: 50px;
            color: var(--accent);
            margin-bottom: 15px;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 2px 4px rgba(211,47,47,0.2));
        }

        #upload-label:hover .fa-fingerprint {
            transform: scale(1.1) rotate(5deg);
        }

        #upload-text {
            font-weight: 700;
            color: #4a4a4a;
        }

        /* Image Preview & Scanner */
        #preview-container {
            position: relative;
            border: 2px solid rgba(211,47,47,0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
            background: #fafafa;
        }

        #preview-image {
            max-width: 100%;
            height: auto;
            display: block;
        }

        #scanner-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, transparent, rgba(217, 4, 41, 0.9), transparent);
            box-shadow: 0 0 15px rgba(217, 4, 41, 0.8), 0 0 30px rgba(217, 4, 41, 0.4);
            display: none;
        }

        @keyframes scan-animation {
            0% { top: 0%; }
            100% { top: 100%; }
        }

        .scanning #scanner-line {
            display: block;
            animation: scan-animation 2s ease-in-out infinite alternate;
        }

        /* Button */
        #predict-button {
            font-family: 'Poppins', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #D32F2F 0%, #C62828 100%);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(211,47,47,0.2);
        }

        #predict-button:hover {
            background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%);
            box-shadow: 0 6px 20px rgba(211,47,47,0.35);
            transform: translateY(-2px);
        }

        #predict-button:disabled {
            background: #aaa;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        #predict-button i {
            margin-right: 8px;
        }

        /* Result Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            animation: fadeIn 0.3s ease;
            backdrop-filter: blur(4px);
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 350px;
            text-align: center;
            position: relative;
            animation: popIn 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: 0 20px 60px rgba(211,47,47,0.3);
            border: 2px solid rgba(211,47,47,0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            color: #aaa;
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-button:hover { 
            color: var(--accent); 
        }

        .modal-content h2 {
            color: #333;
            margin-top: 0;
        }

        .modal-content h2 i {
            color: var(--accent);
            margin-right: 10px;
        }

        #result-display p {
            font-size: 18px;
            color: #555;
            margin-bottom: 10px;
        }

        #blood-type-result {
            font-size: 72px;
            font-weight: 700;
            background: linear-gradient(135deg, #D32F2F 0%, #C62828 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            text-shadow: 0 4px 8px rgba(211,47,47,0.2);
        }
        
        .confidence-text {
            font-size: 16px;
            color: var(--text-muted);
            font-weight: 600;
            margin-top: 15px;
        }

        /* Utility */
        .hidden {
            display: none !important;
        }

        /* About Page */
        #page-about .about-container {
            max-width: 800px;
            margin: 1rem auto;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(211,47,47,0.12);
            padding: 30px 40px;
            text-align: left;
            border: 1px solid rgba(211,47,47,0.1);
            backdrop-filter: blur(10px);
        }
        
        #page-about h1 { 
            color: var(--accent); 
        }
        
        #page-about p { 
            color: var(--text-muted); 
            line-height: 1.7; 
        }

        /* Responsive */
        @media (max-width: 768px) {
            #page-home .hero-card {
                padding: 2rem 1.5rem;
            }
            
            #page-home h1 {
                font-size: 2rem;
            }
            
            nav {
                padding: 0.8rem 3%;
            }
            
            .nav-links {
                gap: 1rem;
            }
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas" aria-hidden="true"></canvas>
    <div class="bg-overlay" aria-hidden="true"></div>

    <nav>
        <div class="logo">BioPredict</div>
        <div class="nav-links">
            <a href="#" data-target="page-home" class="active-link">Home</a>
            <a href="#" data-target="page-predict">Get Started</a>
            <a href="#" data-target="page-about">About</a>
        </div>
        <div class="nav-auth">
            <a href="#" class="login">Login</a>
            <a href="#" class="signup">Sign Up</a>
        </div>
    </nav>

    <main id="app-content">

        <section id="page-home">
            <div class="hero-card">
                <h1>One Fingerprint.One Analysis.One Prediction <br><span>Fingerprint &rarr; Blood Group</span></h1>
                <p>
                 The system uses AI and image analysis to detect blood groups accurately from biometric data. It helps hospitals, emergency teams, and the public get immediate results during critical situations without needing traditional testing.”
                </p>
                <a href="#" data-target="page-predict" class="cta-button">
                    Start Analysis <i class="fas fa-arrow-right"></i>
                </a>
                
                <div class="ecg-line-container">
                    <svg class="ecg-line" viewBox="0 0 100 20" preserveAspectRatio="none">
                        <path d="M0,10 L10,10 L12,5 L14,15 L16,10 L25,10 L30,10 L32,5 L34,15 L36,10 L45,10 L100,10" />
                    </svg>
                </div>
            </div>
        </section>

        <section id="page-predict" class="hidden">
            <div class="main-container">
                <h1>Blood Type Prediction</h1>
                <p>Upload a fingerprint image to analyze and predict the blood group.</p>

                <div class="upload-container">
                    <input type="file" id="fingerprint-uploader" accept="image/*" hidden>
                    <label for="fingerprint-uploader" id="upload-label">
                        <i class="fas fa-fingerprint"></i>
                        <span id="upload-text">Click or Drag to Upload Fingerprint</span>
                    </label>
                </div>

                <div id="preview-container" class="hidden">
                    <img id="preview-image" src="#" alt="Fingerprint Preview" />
                    <div id="scanner-line"></div>
                </div>

                <button id="predict-button" class="hidden">
                    <i class="fas fa-search-plus"></i> Analyze Fingerprint
                </button>
            </div>
        </section>
        
        <section id="page-about" class="hidden">
            <div class="about-container">
                <h1>About This Project</h1>
                
                <p><strong>Blood Group Predict</strong> is an intelligent web-based application designed to predict a person's blood type using advanced machine learning and image processing techniques. Our goal is to make blood group identification faster, safer, and more accessible — especially in emergency or remote healthcare situations.</p>
                
                <div style="display: flex; gap: 20px; margin: 30px 0; flex-wrap: wrap;">
                    <div style="background: rgba(211,47,47,0.08); padding: 20px; border-radius: 10px; border-left: 4px solid var(--accent); flex: 1; min-width: 200px;">
                        <h3 style="color: var(--accent); margin-top: 0;">Our Mission</h3>
                        <p style="margin-bottom: 0;">To simplify and speed up blood group detection using technology, reducing human error and helping healthcare professionals make timely decisions.</p>
                    </div>
                    
                    <div style="background: rgba(211,47,47,0.08); padding: 20px; border-radius: 10px; border-left: 4px solid var(--accent);">
                        <h3 style="color: var(--accent); margin-top: 0;">Our Vision</h3>
                        <p style="margin-bottom: 0;">To contribute to the advancement of AI-powered medical diagnostics, providing tools that enhance accuracy and accessibility for everyone.</p>
                    </div>
                    
                    <div style="background: rgba(211,47,47,0.08); padding: 20px; border-radius: 10px; border-left: 4px solid var(--accent);">
                        <h3 style="color: var(--accent); margin-top: 0;">What We Do</h3>
                        <p style="margin-bottom: 0;">Provide a user-friendly interface to upload and get instant blood group predictions and Ensure privacy, accuracy, and reliability in every result.</p>
                    </div>
                    
                    <div style="background: rgba(211,47,47,0.08); padding: 20px; border-radius: 10px; border-left: 4px solid var(--accent);">
                        <h3 style="color: var(--accent); margin-top: 0;">Our Team</h3>
                        <p style="margin-bottom: 0;">We are a group of passionate students and developers working together to bridge healthcare and technology, focusing on innovation and social impact.</p>
                    </div>
                </div>
                
            </div>
        </section>

    </main>

    <footer style="background: linear-gradient(135deg, #b2b6bb 0%); color: rgb(68, 65, 65); padding: 20px 5%; position: fixed; bottom: 0; left: 0; right: 0; z-index: 1000;">
        <div style="text-align: center;">
            <p style="margin: 0; font-size: 0.95rem;">&copy; 2025 Blood Group Predict. All rights reserved.</p>
        </div>
    </footer>

    <div id="result-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2><i class="fas fa-vial"></i> Analysis Complete</h2>
            <div id="result-display">
                <p>Predicted Blood Group:</p>
                <div id="blood-type-result">O+</div>
                <p id="confidence-percent" class="confidence-text"></p>
            </div>
        </div>
    </div>

    <script>
    // Predictor Logic (updated to connect backend)
    const uploaderInput = document.getElementById('fingerprint-uploader');
    const uploadLabel = document.getElementById('upload-label');
    const uploadText = document.getElementById('upload-text');
    const previewContainer = document.getElementById('preview-container');
    const previewImage = document.getElementById('preview-image');
    const predictButton = document.getElementById('predict-button');

    const modalOverlay = document.getElementById('result-modal');
    const closeButton = modalOverlay.querySelector('.close-button');
    const resultText = document.getElementById('blood-type-result');
    const confidenceText = document.getElementById('confidence-percent');

    let selectedFile = null;

    uploaderInput.addEventListener('change', (event) => {
        selectedFile = event.target.files[0];
        if (selectedFile) {
            const reader = new FileReader();
            reader.onload = (e) => {
                previewImage.src = e.target.result;
                previewContainer.classList.remove('hidden');
                predictButton.classList.remove('hidden');
                uploadText.textContent = selectedFile.name;
            };
            reader.readAsDataURL(selectedFile);
        }
    });

    predictButton.addEventListener('click', async () => {
        if (!selectedFile) return alert("Please upload an image first!");

        predictButton.disabled = true;
        predictButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
        previewContainer.classList.add('scanning');

        // Prepare FormData
        const formData = new FormData();
        formData.append('file', selectedFile);

        try {
            const response = await fetch('http://127.0.0.1:8000/predict', {
                method: 'POST',
                body: formData
            });

            if (!response.ok) throw new Error('Prediction failed');
            const result = await response.json();

            previewContainer.classList.remove('scanning');
            resultText.textContent = result.predicted_blood_type;
            confidenceText.textContent = `Confidence: ${result.confidence.toFixed(2)}%`;

            modalOverlay.classList.remove('hidden');
        } catch (error) {
            alert("Error during prediction. Please try again.");
            console.error(error);
        } finally {
            predictButton.disabled = false;
            predictButton.innerHTML = '<i class="fas fa-search-plus"></i> Analyze Fingerprint';
        }
    });

    closeButton.addEventListener('click', () => {
        modalOverlay.classList.add('hidden');
    });

    modalOverlay.addEventListener('click', (event) => {
        if (event.target === modalOverlay) {
            modalOverlay.classList.add('hidden');
        }
    });
    </script>
	
</body>
</html>